CREATE TABLE IF NOT EXISTS TIMBER (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  WOOD_TYPE VARCHAR(20) NOT NULL,
  FESTMETER DOUBLE NOT NULL,
  AMOUNT INT NOT NULL,
  MAX_AMOUNT INT NOT NULL,
  LENGTH INT NOT NULL,
  QUALITY VARCHAR (10) NOT NULL,
  DIAMETER INT NOT NULL,
  PRICE INT NOT NULL,
  LAST_EDITED DATETIME
);

create table if not exists LUMBER(
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  DESCRIPTION varchar(50) NOT NULL,
  FINISHING varchar(30) NOT NULL,
  WOOD_TYPE varchar(20) NOT NULL,
  QUALITY varchar(20) NOT NULL,
  SIZE INT NOT NULL,
  WIDTH INT NOT NULL,
  LENGTH INT NOT NULL,
  QUANTITY INT NOT NULL,
  RESERVED_QUANTITY INT NOT NULL
);

create table if not exists ORDERS (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  CUSTOMER_NAME varchar(100) NOT NULL,
  CUSTOMER_ADDRESS varchar(100) NOT NULL,
  CUSTOMER_UID varchar(50) NOT NULL,
  ORDER_DATE DATETIME NOT NULL,
  DELIVERY_DATE DATETIME,
  INVOICE_DATE DATETIME,
  GROSS_AMOUNT INT DEFAULT(0),
  NET_AMOUNT INT DEFAULT(0),
  TAX_AMOUNT INT DEFAULT(0),
  ISPAIDFLAG boolean NOT NULL,
  ISDONEFLAG boolean NOT NULL
);


CREATE TABLE if not exists TASK (
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  ORDERID INT NOT NULL,
  DESCRIPTION VARCHAR(50) NOT NULL,
  FINISHING VARCHAR(15) NOT NULL,
  WOOD_TYPE VARCHAR(10) NOT NULL,
  QUALITY VARCHAR(10) NOT NULL,
  SIZE INT NOT NULL,
  WIDTH INT NOT NULL,
  LENGTH INT NOT NULL,
  QUANTITY INT NOT NULL,
  PRODUCED_QUANTITY INT NOT NULL,
  PRICE INT NOT NULL,
  DONE boolean,
  IN_PROGRESS BIT DEFAULT 0,
  DELETED boolean,
  FOREIGN KEY (ORDERID) REFERENCES ORDERS(ID)
);


create table if not exists ASSIGNMENT(
  ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  CREATION_DATE Datetime NOT NULL,
  AMOUNT INT NOT NULL,
  BOX_ID INT REFERENCES TIMBER(ID),
  ISDONE boolean NOT NULL,
  TASK_ID INT NOT Null,
  FOREIGN KEY (TASK_ID) REFERENCES TASK(ID)
);